{% extends 'layout.html' %}

{% block content %}
  <div class="container">
    <main class="row">
      <h2>Fill in the Form:</h2>
      <!-- Ensure the action attribute points to the correct URL for your Flask route -->
      <form action="{{ url_for('submit_form') }}" method="post" id="registrationForm">
        <div class="form-group">
          <label for="firstName">First Name:</label>
          <input type="text" class="form-control" id="firstName" name="firstName" required>
          <span class="text-danger" id="firstNameError"></span>
        </div>

        <div class="form-group">
          <label for="lastName">Last Name:</label>
          <input type="text" class="form-control" id="lastName" name="lastName" required>
          <span class="text-danger" id="lastNameError"></span>
        </div>

        <div class="form-group">
          <label for="email">Email Address:</label>
          <input type="email" class="form-control" id="email" name="email"
            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" required>
          <span class="text-danger" id="emailError"></span>
        </div>

        <div class="form-group">
          <label for="password">Password:</label>
          <input type="password" class="form-control" id="password" name="password" minlength="8" required>
          <span class="text-danger" id="passwordError"></span>
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm Password:</label>
          <input type="password" class="form-control" id="confirmPassword" name="confirmPassword" minlength="8"
            required>
          <span class="text-danger" id="confirmPasswordError"></span>
        </div>

        <input class="btn btn-primary" type="submit" name="submit" id="submit" value="Submit">
      </form>
    </main>
  </div>

  <script>
    $(document).ready(function() {
      $("#registrationForm").on("submit", function(e) {
        if ($("#password").val() !== $("#confirmPassword").val()) {
          e.preventDefault();
          $("#confirmPasswordError").text("Passwords don't match").show();
        }
      });
    });
  </script>
{% endblock %}
